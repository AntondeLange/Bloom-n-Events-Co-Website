---
/**
 * Home: video hero, Our Services, Why Us, Process, Trust Badges, Success Stories, Testimonials, Final CTA, acknowledgement.
 * Matches original layout and copy.
 */
import BaseLayout from "../layouts/BaseLayout.astro";
import HeroStickyBoundary from "../components/HeroStickyBoundary.astro";
import Navbar from "../components/islands/Navbar";
import SuccessStoriesCarousel from "../components/react/SuccessStoriesCarousel";
import TestimonialsCarousel from "../components/react/TestimonialsCarousel";
import StickyMobileCTA from "../components/react/StickyMobileCTA";
import { CONTACT } from "../lib/constants";
import OptimizedImage from "../components/OptimizedImage.astro";
import { Image } from "astro:assets";
import heroPoster from "../assets/images/Home/Corporate Events Hero Image.jpg";
---

<BaseLayout
  title="Full-Service Event Production Perth & WA"
  description="Full-service event production in Perth & Western Australia. Locally designed, engineered, and built experiences for corporate events, workshops, and custom displays. One caring, accountable team based in Brookton, WA."
  path="/"
  renderNavbar={false}
>
  <!-- Hero: video bg, overlay, headline, CTAs -->
  <!-- Hero boundary (hero + sentinel only, NO navbar) -->
  <HeroStickyBoundary>
    <Fragment slot="hero">
      <div class="hero-section relative min-h-svh overflow-visible">
          <div class="hero-background">
            <Image
              src={heroPoster}
              alt="Bloom'n Events Co event production showcase"
              class="absolute inset-0 h-full w-full object-cover object-center"
              priority
              sizes="100vw"
              width="1920"
              height="1080"
            />

            <video
              id="hero-video"
              class="absolute inset-0 h-full w-full object-cover object-center opacity-0 transition-opacity duration-300"
              muted
              loop
              playsinline
              preload="none"
              width="1920"
              height="1080"
              aria-label="Bloom'n Events Co event production showcase video"
            >
              <source src="/assets/images/bloomn-hero.mp4" type="video/mp4" />
            </video>

            <script is:inline>
              (function () {
                const video = document.getElementById("hero-video");
                if (!video) return;

                const prefersReduced =
                  window.matchMedia &&
                  window.matchMedia("(prefers-reduced-motion: reduce)").matches;

                const saveData =
                  navigator.connection && navigator.connection.saveData;

                if (prefersReduced || saveData) return;

                const start = async () => {
                  try {
                    video.preload = "metadata";
                    await video.play();
                    video.classList.remove("opacity-0");
                  } catch (_) {
                    // Autoplay blocked or error: keep poster image.
                  }
                };

                if ("requestIdleCallback" in window) {
                  requestIdleCallback(start, { timeout: 1500 });
                } else {
                  setTimeout(start, 800);
                }
              })();
            </script>
          </div>
        <div class="hero-overlay" aria-hidden="true" />
        <div class="hero-content flex flex-col justify-between min-h-full">
          <div class="w-full max-w-4xl px-4 text-center md:px-6">
            <h1 id="hero-heading" class="hero-headline">
              Transformation.<br />Connection.<br />Impact.
            </h1>
            <p class="hero-subhead">
              We craft environments that foster connection. Locally designed, built, and cared for—bringing your vision to
              life with warmth and precision.
            </p>
            <div class="hero-cta">
              <a href="/contact" class="btn-gold">Begin Your Experience</a>
              <a href="/capabilities" class="btn-outline-gold">Explore Our Capabilities</a>
            </div>
          </div>
            <div class="hero-navbar-wrapper mt-auto w-full">
              <!-- Placing the navbar here keeps it inside the hero so it can slide up with the hero before becoming sticky at the top, while other pages rely on the shared layout header. -->
              <Navbar currentPath="/" client:idle />
            </div>
        </div>
      </div>
    </Fragment>
  </HeroStickyBoundary>

  <!-- Our Services -->
  <section class="section-main" aria-labelledby="services-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="services-heading" class="heading-blush-bg">
        Our Services
      </h2>
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <article class="service-card shadow-md">
          <OptimizedImage
            src="/assets/images/Home/Corporate Events Hero Image.jpg"
            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
            alt="Corporate event planning and production services in Perth and Western Australia"
            class="card-img-top"
            loading="lazy"
            decoding="async"
            width="1600"
            height="900"
          />
          <div class="card-body p-5 text-center">
            <h3 class="mb-3 font-display text-xl font-semibold text-gold">Corporate Events</h3>
            <p class="text-charcoal">
              Spaces where connection happens naturally. We design environments that make business feel human.
            </p>
            <a href="/events" class="btn-gold mt-4 inline-block text-sm">Explore Corporate Events</a>
          </div>
        </article>
        <article class="service-card shadow-md">
          <OptimizedImage
            src="/assets/images/Home/Creative Workshops Hero Image.jpg"
            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
            alt="Creative workshops for kids and adults in Perth and Western Australia"
            class="card-img-top"
            loading="lazy"
            decoding="async"
            width="1600"
            height="900"
          />
          <div class="card-body p-5 text-center">
            <h3 class="mb-3 font-display text-xl font-semibold text-gold">Creative Workshops</h3>
            <p class="text-charcoal">
              Shared moments of creativity. Intimate, hands-on sessions crafted to bring communities together.
            </p>
            <a href="/workshops" class="btn-gold mt-4 inline-block text-sm">Discover Workshops</a>
          </div>
        </article>
        <article class="service-card shadow-md">
          <OptimizedImage
            src="/assets/images/Home/Custom Displays Hero Image.jpg"
            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
            alt="Custom displays and installations for events in Perth and Western Australia"
            class="card-img-top"
            loading="lazy"
            decoding="async"
            width="1600"
            height="900"
          />
          <div class="card-body p-5 text-center">
            <h3 class="mb-3 font-display text-xl font-semibold text-gold">Custom Displays</h3>
            <p class="text-charcoal">
              Stories told through structure. Custom installations that capture imagination and respect their place.
            </p>
            <a href="/displays" class="btn-gold mt-4 inline-block text-sm">View Custom Displays</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Why Choose Bloom'n Events Co -->
  <section class="section-main" aria-labelledby="why-us-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="why-us-heading" class="heading-blush-bg">
        Why Choose Bloom'n Events Co?
      </h2>
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <article class="card h-100 shadow why-us-card">
          <div class="card-body text-center">
            <div class="why-us-icon mx-auto mb-3">
              <i class="bi bi-tools" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">Creativity with Roots</h3>
            <p class="text-charcoal">
              Designed and built by us, locally. We hold your vision close from the first sketch to the final moment.
            </p>
          </div>
        </article>
        <article class="card h-100 shadow why-us-card">
          <div class="card-body text-center">
            <div class="why-us-icon mx-auto mb-3">
              <i class="bi bi-shield-check" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">Care in Every Detail</h3>
            <p class="text-charcoal">
              We take safety seriously so you can focus on how people feel. Structural integrity designed to let
              imagination roam free.
            </p>
          </div>
        </article>
        <article class="card h-100 shadow why-us-card">
          <div class="card-body text-center">
            <div class="why-us-icon mx-auto mb-3">
              <i class="bi bi-lightbulb" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">Beauty & Function</h3>
            <p class="text-charcoal">
              Where creative heart meets technical skill. We build bold ideas that work beautifully.
            </p>
          </div>
        </article>
      </div>
      <div class="mt-10 text-center">
        <a href="/capabilities" class="btn-gold">Learn More About Our Capabilities</a>
      </div>
    </div>
  </section>

  <!-- Our Process -->
  <section class="section-secondary" aria-labelledby="process-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="process-heading" class="heading-blush-bg">
        How We Work... As Easy as...
      </h2>
      <div class="grid gap-6 justify-center sm:grid-cols-2 lg:grid-cols-4">
        <article class="card h-100 shadow text-center process-card">
          <div class="card-body p-4">
            <div class="process-number mb-3">01</div>
            <h3 class="text-gold mb-3">Listening</h3>
            <p class="text-charcoal mb-0">
              We start with your story. Understanding the feeling you want to create.
            </p>
          </div>
        </article>
        <article class="card h-100 shadow text-center process-card">
          <div class="card-body p-4">
            <div class="process-number mb-3">02</div>
            <h3 class="text-gold mb-3">Imagining</h3>
            <p class="text-charcoal mb-0">
              Sketching visions that respect your budget and our shared resources.
            </p>
          </div>
        </article>
        <article class="card h-100 shadow text-center process-card">
          <div class="card-body p-4">
            <div class="process-number mb-3">03</div>
            <h3 class="text-gold mb-3">Crafting</h3>
            <p class="text-charcoal mb-0">
              Building with care in our local workshop. Thoughtful use of materials, minimizing waste.
            </p>
          </div>
        </article>
        <article class="card h-100 shadow text-center process-card">
          <div class="card-body p-4">
            <div class="process-number mb-3">04</div>
            <h3 class="text-gold mb-3">Realising</h3>
            <p class="text-charcoal mb-0">
              We are there to ensure the experience unfolds perfectly. One team, present and accountable.
            </p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Trust Badges -->
  <section class="section-main" aria-labelledby="trust-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="trust-heading" class="heading-blush-bg">
        Why Clients Trust Us
      </h2>
      <div class="grid gap-6 justify-center sm:grid-cols-2 lg:grid-cols-4">
        <article class="card h-100 shadow text-center trust-badge-card">
          <div class="card-body p-4">
            <div class="trust-icon mb-3">
              <i class="bi bi-shield-check" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">Fully Insured</h3>
            <p class="text-charcoal mb-0">Comprehensive cover so your experience feels secure from start to finish.</p>
          </div>
        </article>
        <article class="card h-100 shadow text-center trust-badge-card">
          <div class="card-body p-4">
            <div class="trust-icon mb-3">
              <i class="bi bi-award" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">40+ Years Experience</h3>
            <p class="text-charcoal mb-0">Deep experience in high-compliance environments, delivered with calm, steady hands.</p>
          </div>
        </article>
        <article class="card h-100 shadow text-center trust-badge-card">
          <div class="card-body p-4">
            <div class="trust-icon mb-3">
              <i class="bi bi-gear" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">In-House Production</h3>
            <p class="text-charcoal mb-0">Designed, engineered, and built locally under one roof so ideas stay whole.</p>
          </div>
        </article>
        <article class="card h-100 shadow text-center trust-badge-card">
          <div class="card-body p-4">
            <div class="trust-icon mb-3">
              <i class="bi bi-check-circle" aria-hidden="true"></i>
            </div>
            <h3 class="text-gold mb-3">Engineering-Grade</h3>
            <p class="text-charcoal mb-0">
              Safety-first engineering that lets creativity roam free without compromise.
            </p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Success Stories -->
  <section class="section-main" aria-labelledby="case-studies-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="case-studies-heading" class="heading-blush-bg">
        Success Stories
      </h2>
      <SuccessStoriesCarousel client:visible />
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials section-main" aria-labelledby="testimonials-heading">
    <div class="mx-auto max-w-7xl px-4 md:px-6">
      <h2 id="testimonials-heading" class="heading-blush-bg text-center">
        What Our Clients Say
      </h2>
      <TestimonialsCarousel client:visible />
    </div>
  </section>

  <!-- Final CTA -->
  <section class="section-main" aria-labelledby="final-cta-heading">
    <div class="mx-auto max-w-4xl px-4 md:px-6">
      <h2 id="final-cta-heading" class="heading-blush-bg">
        Let's bring your vision to life.
      </h2>
      <div class="card shadow cta-card">
        <div class="card-body">
          <p class="lead text-charcoal mb-5">
            We invite you to create with us. A partnership built on trust, craft, and a shared desire to leave things
            better than we found them.
          </p>
          <div class="cta-buttons mb-4">
            <a href="/contact" class="btn-gold btn-lg me-3 mb-3">Start the Conversation</a>
            <a href="/capabilities" class="btn-outline-gold btn-lg mb-3">Explore Our Capabilities</a>
          </div>
          <p class="text-charcoal mt-4 mb-0">
            <i class="bi bi-telephone-fill" aria-hidden="true"></i>{" "}
            <a href={`tel:${CONTACT.phone.replace(/\s/g, "")}`} class="text-gold hover:underline">
              {CONTACT.phone}
            </a>{" "}
            | <i class="bi bi-envelope-fill" aria-hidden="true"></i>{" "}
            <a href={`mailto:${CONTACT.email}`} class="text-gold hover:underline">
              {CONTACT.email}
            </a>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Acknowledgement -->
  <section class="section-main" aria-labelledby="ack-heading">
    <div class="mx-auto max-w-[1232px] px-4 md:px-6">
      <div class="heading-blush-bg text-center">
        <p id="ack-heading" class="acknowledgement-text mb-0">
          Bloom'n Events Co Pty Ltd acknowledges the Traditional Owners of the lands on which we live and work — the
          Noongar people — and pays our deepest respects to Elders past and present. We honour their enduring
          connection to land, waters, and community, and extend that respect to all First Nations peoples across
          Australia.
        </p>
      </div>
    </div>
  </section>

  <!-- Sticky Mobile CTA -->
  <StickyMobileCTA client:idle />
</BaseLayout>
